!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=40)}([function(t,e,n){var r=n(4),i=n(23),o=n(24),s="[object Null]",a="[object Undefined]",c=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?a:s:c&&c in Object(t)?i(t):o(t)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){"use strict";(function(t){function r(t,e){let n=t.map_stats[e.map];return n||(n=t.map_stats["All Maps"]),n.map(t=>t.roles.sort())}function i(e,n,r){const i={};let o=100,s=0;for(const t in e.heroes){const n=e.heroes[t];o=Math.min(o,n.win_percent),s=Math.max(s,n.win_percent)}const a=s-o,{icyVeins:c,tenTon:u}=e.tiers;for(const s of Object.keys(e.heroes)){const l=e.heroes[s];let f=0;f=c[l.icy_veins_tier]*r.icyVeinsTiers+u[l.ten_ton_tier]*r.tenTonTiers,f+=(l.win_percent-o)/a*100*r.winPercent,l.maps.strong.includes(n.map)?f+=50*r.strongMaps:l.maps.weak.includes(n.map)&&(f-=50*r.weakMaps),Number.isNaN(f)&&(console.log(`NaN precalculated for ${s}`),console.log(`Icy Veins tier: ${c[l.icy_veins_tier]}`),console.log(`Ten Ton tier: ${u[l.ten_ton_tier]}`),console.log(`Win Percent: ${l.win_percent}`),console.log(l),t.exit(1)),i[s]={preCalculated:f,role:l.role,subrole:l.subrole,synergies:l.synergies,countered_by:l.countered_by}}return i}n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i})}).call(this,n(39))},function(t,e,n){var r=n(12);t.exports=function(t){var e=t.length;return e?t[r(0,e-1)]:void 0}},function(t,e,n){var r=n(5).Symbol;t.exports=r},function(t,e,n){var r=n(6),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(22))},function(t,e){var n=Array.isArray;t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(module,exports,__webpack_require__){var Genetic=Genetic||function(){"use strict";var Serialization={stringify:function(t){return JSON.stringify(t,function(t,e){return e instanceof Function||"function"==typeof e?"__func__:"+e.toString():e instanceof RegExp?"__regex__:"+e:e})},parse:function(str){return JSON.parse(str,function(key,value){return"string"!=typeof value?value:0===value.lastIndexOf("__func__:",0)?eval("("+value.slice(9)+")"):0===value.lastIndexOf("__regex__:",0)?eval("("+value.slice(10)+")"):value})}},Clone=function(t){return null==t||"object"!=typeof t?t:JSON.parse(JSON.stringify(t))},Optimize={Maximize:function(t,e){return t>=e},Minimize:function(t,e){return t<e}},Select1={Tournament2:function(t){var e=t.length,n=t[Math.floor(Math.random()*e)],r=t[Math.floor(Math.random()*e)];return this.optimize(n.fitness,r.fitness)?n.entity:r.entity},Tournament3:function(t){var e=t.length,n=t[Math.floor(Math.random()*e)],r=t[Math.floor(Math.random()*e)],i=t[Math.floor(Math.random()*e)],o=this.optimize(n.fitness,r.fitness)?n:r;return(o=this.optimize(o.fitness,i.fitness)?o:i).entity},Fittest:function(t){return t[0].entity},Random:function(t){return t[Math.floor(Math.random()*t.length)].entity},RandomLinearRank:function(t){return this.internalGenState.rlr=this.internalGenState.rlr||0,t[Math.floor(Math.random()*Math.min(t.length,this.internalGenState.rlr++))].entity},Sequential:function(t){return this.internalGenState.seq=this.internalGenState.seq||0,t[this.internalGenState.seq++%t.length].entity}},Select2={Tournament2:function(t){return[Select1.Tournament2.call(this,t),Select1.Tournament2.call(this,t)]},Tournament3:function(t){return[Select1.Tournament3.call(this,t),Select1.Tournament3.call(this,t)]},Random:function(t){return[Select1.Random.call(this,t),Select1.Random.call(this,t)]},RandomLinearRank:function(t){return[Select1.RandomLinearRank.call(this,t),Select1.RandomLinearRank.call(this,t)]},Sequential:function(t){return[Select1.Sequential.call(this,t),Select1.Sequential.call(this,t)]},FittestRandom:function(t){return[Select1.Fittest.call(this,t),Select1.Random.call(this,t)]}};function Genetic(){this.fitness=null,this.seed=null,this.mutate=null,this.crossover=null,this.select1=null,this.select2=null,this.optimize=null,this.generation=null,this.notification=null,this.configuration={size:250,crossover:.9,mutation:.2,iterations:100,fittestAlwaysSurvives:!0,maxResults:100,webWorkers:!0,skip:0},this.userData={},this.internalGenState={},this.entities=[],this.usingWebWorker=!1,this.start=function(){var t;for(t=0;t<this.configuration.size;++t)this.entities.push(this.seed());this.loop(0)},this.loop=function(t){var e=this;function n(t){return Math.random()<=e.configuration.mutation&&e.mutate?e.mutate(t):t}this.internalGenState={};var r=this.entities.map(function(t){return{fitness:e.fitness(t),entity:t}}).sort(function(t,n){return e.optimize(t.fitness,n.fitness)?-1:1}),i=r.reduce(function(t,e){return t+e.fitness},0)/r.length,o=Math.sqrt(r.map(function(t){return(t.fitness-i)*(t.fitness-i)}).reduce(function(t,e){return t+e},0)/r.length),s={maximum:r[0].fitness,minimum:r[r.length-1].fitness,mean:i,stdev:o},a=!this.generation||this.generation(r.slice(0,this.configuration.maxResults),t,s),c=void 0!==a&&!a||t==this.configuration.iterations-1;if(this.notification&&(c||0==this.configuration.skip||t%this.configuration.skip==0)&&this.sendNotification(r.slice(0,this.configuration.maxResults),t,s,c),!c){var u=[];for(this.configuration.fittestAlwaysSurvives&&u.push(r[0].entity);u.length<e.configuration.size;)if(this.crossover&&Math.random()<=this.configuration.crossover&&u.length+1<e.configuration.size){var l=this.select2(r),f=this.crossover(l[0],l[1]).map(n);u.push(f[0],f[1])}else u.push(n(e.select1(r)));this.entities=u,setTimeout(function(){e.loop(t+1)},1)}},this.sendNotification=function(t,e,n,r){if(this.usingWebWorker){var i={pop:t.map(Serialization.stringify),generation:e,stats:n,isFinished:r};postMessage(i)}else this.notification(t,e,n,r)}}return Genetic.prototype.evolve=function(t,e){var n;for(n in t)this.configuration[n]=t[n];for(n in e)this.userData[n]=e[n];function r(t){return t.replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")}this.usingWebWorker=this.configuration.webWorkers&&"undefined"!=typeof Blob&&"undefined"!=typeof Worker&&void 0!==window.URL&&void 0!==window.URL.createObjectURL;var i=this;if(this.usingWebWorker){var o="'use strict'\n";o+="var Serialization = {'stringify': "+Serialization.stringify.toString()+", 'parse': "+Serialization.parse.toString()+"};\n",o+="var Clone = "+Clone.toString()+";\n",o+='var Optimize = Serialization.parse("'+r(Serialization.stringify(Optimize))+'");\n',o+='var Select1 = Serialization.parse("'+r(Serialization.stringify(Select1))+'");\n',o+='var Select2 = Serialization.parse("'+r(Serialization.stringify(Select2))+'");\n',o+='var genetic = Serialization.parse("'+r(Serialization.stringify(this))+'");\n',o+="onmessage = function(e) { genetic.start(); }\n";var s=new Blob([o]),a=new Worker(window.URL.createObjectURL(s));a.onmessage=function(t){var e=t.data;i.notification(e.pop.map(Serialization.parse),e.generation,e.stats,e.isFinished)},a.onerror=function(t){alert("ERROR: Line "+t.lineno+" in "+t.filename+": "+t.message)},a.postMessage("")}else i.start()},{create:function(){return new Genetic},Select1:Select1,Select2:Select2,Optimize:Optimize,Clone:Clone}}();module.exports=Genetic},function(t,e,n){var r=n(3),i=n(13),o=n(7);t.exports=function(t){return(o(t)?r:i)(t)}},function(t,e){var n=Math.floor,r=Math.random;t.exports=function(t,e){return t+n(r()*(e-t+1))}},function(t,e,n){var r=n(3),i=n(14);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(15),i=n(17);t.exports=function(t){return null==t?[]:r(t,i(t))}},function(t,e,n){var r=n(16);t.exports=function(t,e){return r(e,function(e){return t[e]})}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(18),i=n(32),o=n(36);t.exports=function(t){return o(t)?r(t):i(t)}},function(t,e,n){var r=n(19),i=n(20),o=n(7),s=n(25),a=n(27),c=n(28),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),l=!n&&i(t),f=!n&&!l&&s(t),p=!n&&!l&&!f&&c(t),h=n||l||f||p,d=h?r(t.length,String):[],m=d.length;for(var y in t)!e&&!u.call(t,y)||h&&("length"==y||f&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||a(y,m))||d.push(y);return d}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(21),i=n(1),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return i(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=c},function(t,e,n){var r=n(0),i=n(1),o="[object Arguments]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(4),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),n=t[a];try{t[a]=void 0;var r=!0}catch(t){}var i=s.call(t);return r&&(e?t[a]=n:delete t[a]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){(function(t){var r=n(5),i=n(26),o=e&&!e.nodeType&&e,s=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===o?r.Buffer:void 0,c=(a?a.isBuffer:void 0)||i;t.exports=c}).call(this,n(8)(t))},function(t,e){t.exports=function(){return!1}},function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var i=typeof t;return!!(e=null==e?n:e)&&("number"==i||"symbol"!=i&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(29),i=n(30),o=n(31),s=o&&o.isTypedArray,a=s?i(s):r;t.exports=a},function(t,e,n){var r=n(0),i=n(9),o=n(1),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!s[r(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(6),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===i&&r.process,a=function(){try{var t=o&&o.require&&o.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=a}).call(this,n(8)(t))},function(t,e,n){var r=n(33),i=n(34),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(35)(Object.keys,Object);t.exports=r},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(37),i=n(9);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e,n){var r=n(0),i=n(38),o="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",c="[object Proxy]";t.exports=function(t){if(!i(t))return!1;var e=r(t);return e==s||e==a||e==o||e==c}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,u=[],l=!1,f=-1;function p(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&h())}function h(){if(!l){var t=a(p);l=!0;for(var e=u.length;e;){for(c=u,u=[];++f<e;)c&&c[f].run();f=-1,e=u.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||l||a(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";n.r(e);var r=n(10),i=n.n(r),o=n(11),s=n.n(o);var a=n(2);class c{constructor(t,e,n,r){const i=n.create();i.optimize=n.Optimize.Maximize,i.select1=n.Select1.Tournament2,i.select2=n.Select2.Tournament2,i.draftInfo=e,i.data=Object(a.b)(t,e,r),i.TEAM_SIZE=5,i.acceptableCompositions=Object(a.a)(t,e);const o=[e.unavailable,e.blueTeam,e.redTeam].reduce((t,e)=>t.concat(e),[]);i.heroes=[];for(const e in t.heroes)o.includes(e)||i.heroes.push(e);i.seed=()=>{if(i.draftInfo.blueTeam.length>=5)return i.draftInfo.blueTeam;let t=0;for(;;){const e=i.draftInfo.blueTeam.slice(0);for(;e.length<5;)e.push(s()(i.heroes));if(new Set(e).size===i.TEAM_SIZE&&(t+=1,i.isAcceptableComposition(e)||t>50))return e}},i.isGoodComposition=t=>{const e=t.map(t=>i.data[t].subrole).sort();return i.acceptableCompositions.some(t=>e.every((e,n)=>e===t[n]))},i.isAcceptableComposition=t=>{const e=new Set(t.map(t=>i.data[t].role));return e.has("Warrior")&&e.has("Assassin")&&e.has("Support")},i.myCache={},i.fitness=t=>{let e=i.myCache[t.sort()]||0;if(0!==e)return e;i.isGoodComposition(t)?e+=100*r.composition:i.isAcceptableComposition(t)&&(e+=50*r.composition),e+=t.reduce((t,e)=>t+i.data[e].preCalculated,0)/5;const n=new Set;t.forEach(t=>i.data[t].synergies.forEach(t=>n.add(t))),e+=t.reduce((t,e)=>t+(n.has(e)?30:0),0)*r.synergies;const o=new Set;t.forEach(t=>i.data[t].countered_by.forEach(t=>o.add(t))),e+=i.draftInfo.redTeam.reduce((t,e)=>t+(o.has(e)?-30:0),0)*r.counters;const s=new Set;return i.draftInfo.redTeam.forEach(t=>i.data[t].countered_by.forEach(t=>s.add(t))),e+=t.reduce((t,e)=>t+(s.has(e)?30:0),0)*r.opposingCounters,i.myCache[t.sort()]=e,e},i.crossover=(t,e)=>{const n=i.draftInfo.blueTeam.length,r=t.length-n;if(0===r)return[t,e];let o=t.slice(0,n),s=e.slice(0,n);if(1===r)return o=o.concat([e[i.TEAM_SIZE-1]]),s=s.concat([t[i.TEAM_SIZE-1]]),new Set(o).size===i.TEAM_SIZE&&new Set(s).size===i.TEAM_SIZE?[o,s]:[t,e];let a=0;for(;;){if(10===(a+=1))return[t,e];let c=0,u=0;for(;c===u||c>=u;)c=Math.floor(Math.random()*r),u=Math.floor(Math.random()*r);if(c+=n,u+=n+1,o=o.concat(e.slice(n,c)).concat(t.slice(c,u)).concat(e.slice(u,r)),s=s.concat(t.slice(n,c)).concat(e.slice(c,u)).concat(t.slice(u,r)),new Set(o).size===i.TEAM_SIZE&&new Set(s).size===i.TEAM_SIZE&&o.length===i.TEAM_SIZE&&s.length===i.TEAM_SIZE)return[o,s]}},this.genetic=i}solve(t){const e=Object.assign({},{size:275,crossover:1,maxResults:1,iterations:25,webWorkers:!1},t),n=this.genetic.data;return new Promise((t,r)=>{this.genetic.notification=(e,r,i,o)=>{if(o){const i={team:e[0].entity.sort((t,e)=>(function(t,e,n){const r=n[t].role,i=n[e].role;return r===i?t===e?0:t>e?1:-1:"Warrior"===r?-1:"Warrior"===i?1:"Assassin"===r?-1:"Assassin"===i?1:"Specialist"===r?-1:"Specialist"===i?1:"Multiclass"===r?-1:"Multiclass"===i?1:"Support"===r?-1:"Support"===i?1:void 0})(t,e,n)),fitness:e[0].fitness,generation:r};t(i)}},this.genetic.evolve(e,{})})}}async function u(t,e,n,r){let o,s=0;for(;20!==s;){const a=new c(e,n,i.a,r),u=await a.solve();(!o||o.fitness<u.fitness)&&(postMessage({result:u,isFinished:!1,forBlueTeam:t}),s=0,o=u),s+=1}postMessage({result:o,isFinished:!0,forBlueTeam:t})}onmessage=async t=>{const[e,n,r]=t.data;u(!0,e,n,r);const i=JSON.parse(JSON.stringify(n));Object.assign(i,{redTeam:i.blueTeam,blueTeam:i.redTeam}),u(!1,e,i,r)}}]);